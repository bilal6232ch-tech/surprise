<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactive Birthday Cake</title>
<style>
body {
  background: linear-gradient(135deg, #ffcce6, #c4e0ff);
  display: flex; justify-content:center; align-items:center;
  height:100vh; margin:0; font-family:sans-serif;
  user-select: none;
}

.cake-container {
  position: relative;
  width: 300px; height: 200px;
}

.cake {
  position: relative;
  width: 100%; height: 100%;
  background: linear-gradient(to top, #ff85a2, #ff99b6);
  border-radius: 0 0 20px 20px;
  overflow: hidden;
}

.cake-top {
  position: absolute;
  top:0; left:0; width:100%; height:50%;
  background: linear-gradient(to top, #ffcce6, #ffb3c6);
  z-index:2;
  pointer-events:none;
}

.candle-container {
  position: absolute; top:-40px; width:100%; display:flex;
  justify-content:center; gap:15px; z-index:3;
}

.candle {
  width:10px; height:30px; background:linear-gradient(to top, #ffff99, #ff9933);
  border-radius:5px; cursor:pointer; position:relative;
}

.flame {
  position:absolute; top:-20px; left:50%; transform:translateX(-50%);
  width:12px; height:20px; background:radial-gradient(ellipse at center,#ffff00,#ff6600);
  border-radius:50% 50% 20% 20%; box-shadow:0 0 10px #ff9900,0 0 20px #ffff00;
  animation:flicker 0.5s infinite alternate;
}

.candle.blown .flame {opacity:0; animation:none;}

@keyframes flicker {
  0%{transform:translateX(-50%) scale(1);opacity:1;}
  100%{transform:translateX(-50%) scale(1.1);opacity:0.9;}
}

.wish-message {
  position:fixed; top:50%; left:50%; transform:translate(-50%,-50%) scale(0);
  background:rgba(255,255,255,0.95); padding:20px; border-radius:20px;
  text-align:center; opacity:0; transition: all 0.5s ease; z-index:100;
}

.wish-message.show {transform:translate(-50%,-50%) scale(1); opacity:1;}

.btn {padding:10px 20px; border:none; border-radius:20px; cursor:pointer; background:#ff3366; color:white;}
</style>
</head>
<body>

<div class="cake-container">
  <div class="cake" id="cake">
    <div class="cake-top" id="cakeTop"></div>
    <div class="candle-container" id="candleContainer"></div>
  </div>
</div>

<div class="wish-message" id="wishMessage">
  <h2>‚ú® Happy Birthday! ‚ú®</h2>
  <p>Make a wish! üéÇ‚ú®</p>
  <button class="btn" onclick="closeWishMessage()">Thank you! ‚ù§Ô∏è</button>
</div>

<script>
const totalCandles = 5;
let candlesBlown = 0;
let allCandlesBlown = false;

// Create candles
const candleContainer = document.getElementById('candleContainer');
for(let i=0;i<totalCandles;i++){
  const candle = document.createElement('div');
  candle.className='candle';
  const flame = document.createElement('div');
  flame.className='flame';
  candle.appendChild(flame);
  candle.addEventListener('click',()=>{
    if(!candle.classList.contains('blown')){
      candle.classList.add('blown');
      candlesBlown++;
      if(candlesBlown===totalCandles && !allCandlesBlown){
        allCandlesBlown=true;
        setTimeout(showWishMessage,500);
      }
    }
  });
  candleContainer.appendChild(candle);
}

// Cake cutting
let cutting=false;
const cakeTop = document.getElementById('cakeTop');
cakeTop.addEventListener('mousedown',()=>cutting=true);
cakeTop.addEventListener('mouseup',()=>cutting=false);
cakeTop.addEventListener('mouseleave',()=>cutting=false);

cakeTop.addEventListener('mousemove',(e)=>{
  if(cutting){
    const rect = cakeTop.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    const ctx = document.createElement('div');
    ctx.style.position='absolute';
    ctx.style.width='20px';
    ctx.style.height='20px';
    ctx.style.background='transparent';
    ctx.style.borderRadius='50%';
    ctx.style.left=`${x-10}px`;
    ctx.style.top=`${y-10}px`;
    ctx.style.boxShadow='0 0 50px rgba(255,255,255,0.3) inset';
    cakeTop.appendChild(ctx);
    setTimeout(()=>ctx.remove(),500);
  }
});

function showWishMessage(){
  document.getElementById('wishMessage').classList.add('show');
}
function closeWishMessage(){
  document.getElementById('wishMessage').classList.remove('show');
}
</script>

</body>
</html>
